{
  "dotfiles Lua module": {
    "prefix": "!dotmod",
    "body": [
      "--- ${1:TODO: Documentation}",
      "local M = require('dotfiles.autoload')('${VIM:dotfiles#ftplugin_helpers#lua#module_name()}')",
      "",
      "${2:local lsp = require('vim.lsp')}",
      "",
      "$0",
      "",
      "return M"
    ]
  },
  "call to vim.schedule()": {
    "prefix": "schedule",
    "body": [
      "vim.schedule(function()",
      "\t$0",
      "end)"
    ]
  },
  "call to vim.schedule_wrap()": {
    "prefix": "schedulewrap",
    "body": [
      "vim.schedule_wrap(function()",
      "\t$0",
      "end)"
    ]
  },
  "optional require()": {
    "prefix": "optrequire",
    "body": [
      "local ${2:module}_available, ${2:module} = pcall(require, '$1')"
    ]
  },
  "iterate over a list-style table": {
    "prefix": "iterlist",
    "body": [
      "for ${3:_}, ${2:element} in ipairs(${1:list}) do",
      "\t$0",
      "end"
    ]
  },
  "iterate over a dictionary-style table": {
    "prefix": "iterdict",
    "body": [
      "for ${2:key}, ${3:value} in ipairs(${1:dict}) do",
      "\t$0",
      "end"
    ]
  },
  "Node.js-style callback for luv": {
    "prefix": "nodecallback",
    "body": [
      "function(${2:err}, ${1:...})",
      "\tif $2 then",
      "\t\treturn callback($2)",
      "\tend",
      "\t$0",
      "end"
    ]
  }
}
